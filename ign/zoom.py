from geo.utils import convert

DEFAULT = 14

class Zoom(object):
    def __init__(self, level, res, geo_res, scale):
        self.level = level
        self.res = res
        self.geo_res = geo_res
        a, b = scale.split(":")
        self.scale = int(a) / int(b)

    def rescale(self, *args, unit="cm", to="km"):
        return convert(*[arg / self.scale for arg in args], from_unit=unit, to_unit=to)

zoom = [
    Zoom(0, 156543.0339280410,   1.40625, "1:559082264"),
    Zoom( 1, 78271.5169640205, 0.703125, "1:279541132"),
    Zoom( 2, 39135.7584820102, 0.3515625, "1:139770566"),
    Zoom( 3, 19567.8792410051, 0.17578125, "1:69885283"),
    Zoom( 4, 9783.9396205026  ,0.087890625, "1:34942642"),
    Zoom( 5, 4891.9698102513  ,0.0439453125, "1:17471321"),
    Zoom( 6, 2445.9849051256  ,0.02197265625, "1:8735660"),
    Zoom( 7, 1222.9924525628  ,0.010986328125, "1:4367830"),
    Zoom( 8, 611.4962262814  ,0.0054931640625, "1:2183915"),
    Zoom( 9, 305.7481131407  ,0.00274658203125, "1:1091958"),
    Zoom(10, 152.8740565704  ,0.001373291015625, "1:545979"),
    Zoom(11, 76.4370282852  ,0.0006866455078125, "1:272989"),
    Zoom(12, 38.2185141426  ,0.00034332275390625, "1:136495"),
    Zoom(13, 19.1092570713  ,0.000171661376953125, "1:68247"),
    Zoom(14, 9.5546285356  ,0.00008583068847656250, "1:34124"),
    Zoom(15, 4.7773142678  ,0.00004291534423828120, "1:17062"),
    Zoom(16, 2.3886571339  ,0.00002145767211914060, "1:8531"),
    Zoom(17, 1.1943285670  ,0.00001072883605957030, "1:4265"),
    Zoom(18, 0.5971642835  ,0.00000536441802978516, "1:2133"),
    Zoom(19, 0.2985821417  ,0.00000268220901489258, "1:1066"),
    Zoom(20, 0.1492910709  ,0.00000134110450744629, "1:533"),
    Zoom(21, 0.0746455354  ,0.00000067055225372315, "1:267")
]